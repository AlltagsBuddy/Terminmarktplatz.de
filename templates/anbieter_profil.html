<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ provider.name }} | Terminmarktplatz</title>
  <meta name="description" content="Öffentliches Anbieterprofil mit verfügbaren Terminen." />
  <meta name="theme-color" content="#6f53ff" />
  <base href="/" />

  <link rel="icon" href="static/favicon.png"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="static/style.css?v=20251103" />

  <style>
    .profile-grid{display:grid; gap:16px}
    @media(min-width: 920px){ .profile-grid{grid-template-columns: 1fr 1.2fr} }
    .profile-card{display:flex; gap:12px; align-items:center}
    .profile-logo{width:72px; height:72px; border-radius:14px; object-fit:cover; border:1px solid #e2e8f0; background:#fff}
    .slot-table .badge{font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid var(--border)}
    .badge-cat{background:#eef2ff; color:#4338ca}
    .price{font-weight:700}
  </style>
</head>
<body>
  {% include "_header.html" %}

  <main>
    <section class="hero" style="padding:36px 0 18px">
      <div class="container">
        <span class="badge">Anbieterprofil</span>
        <h1>{{ provider.name }}</h1>
        {% if provider.branch %}
          <p class="lead">{{ provider.branch }}</p>
        {% endif %}
      </div>
    </section>

    <section>
      <div class="container profile-grid">
        <div class="panel">
          <div class="profile-card">
            {% if provider.logo_url %}
              <img class="profile-logo" src="{{ provider.logo_url }}" alt="Logo {{ provider.name }}">
            {% endif %}
            <div>
              <div style="font-weight:700; font-size:1.1rem;">{{ provider.name }}</div>
              {% if provider.address %}
                <div class="muted">{{ provider.address }}</div>
              {% endif %}
            </div>
          </div>

          <div style="margin-top:12px">
            {% if provider.phone %}
              <div><strong>Telefon:</strong> <a href="tel:{{ provider.phone }}">{{ provider.phone }}</a></div>
            {% endif %}
            {% if provider.whatsapp %}
              <div><strong>WhatsApp:</strong> <a href="https://wa.me/{{ provider.whatsapp|replace('+','') }}">{{ provider.whatsapp }}</a></div>
            {% endif %}
          </div>
        </div>

        <div class="panel">
          <h2>Verfügbare Termine</h2>
          {% if slots and slots|length > 0 %}
            <div class="table-wrap slot-table">
              <table class="table">
                <thead>
                  <tr>
                    <th>Datum</th>
                    <th>Zeit</th>
                    <th>Titel</th>
                    <th>Kategorie</th>
                    <th>Ort</th>
                    <th>Preis</th>
                  </tr>
                </thead>
                <tbody>
                  {% for s in slots %}
                  <tr>
                    <td>{{ s.start_date }}</td>
                    <td>{{ s.start_time }} – {{ s.end_time }}</td>
                    <td>
                      <div style="font-weight:600;">{{ s.title }}</div>
                      {% if s.description %}
                        <div class="muted" style="font-size:12px;">{{ s.description }}</div>
                      {% endif %}
                    </td>
                    <td><span class="badge badge-cat">{{ s.category }}</span></td>
                    <td>{{ s.address }}</td>
                    <td class="price">{% if s.price_eur %}{{ s.price_eur }} €{% else %}-{% endif %}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          {% else %}
            <div class="muted">Aktuell sind keine öffentlichen Termine verfügbar.</div>
          {% endif %}
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container foot-grid">
      <div>
        <div class="brand" style="margin-bottom:10px">
          <div class="brand-logo" aria-hidden="true">
            <img src="static/terminmarktplatz-logo.png" alt="Terminmarktplatz Logo klein">
          </div>
          <div class="brand-title">Terminmarktplatz</div>
        </div>
        <p class="muted">Ein AlltagsBuddy-Projekt: smarte Lösungen für deinen Alltag.</p>
      </div>
      <div class="foot-col">
        <h4>Produkt</h4>
        <a class="foot-link" href="anbieter.html">Für Anbieter</a>
        <a class="foot-link" href="suchende.html">Für Suchende</a>
      </div>
      <div class="foot-col">
        <h4>Rechtliches</h4>
        <a class="foot-link" href="impressum.html">Impressum</a>
        <a class="foot-link" href="datenschutz.html">Datenschutz</a>
        <a class="foot-link" href="agb.html">AGB</a>
        <a class="foot-link" href="widerruf.html">Widerruf</a>
        <a class="foot-link" href="cookie-einstellungen.html">Cookie-Einstellungen</a>
      </div>
      <div class="foot-col">
        <h4>Kontakt</h4>
        <a class="foot-link" href="kontakt.html">Kontaktformular</a>
        <a class="foot-link" href="mailto:info@terminmarktplatz.de">info@terminmarktplatz.de</a>
      </div>
    </div>
    <div class="container copyright">© <span id="y"></span> Terminmarktplatz · Alle Rechte vorbehalten.</div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
