<!-- FILE: templates/impressum.html -->
<!doctype html>
<html lang="de">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YNZ8GW523R"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YNZ8GW523R');
  </script>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Impressum | Terminmarktplatz</title>
  <meta name="description" content="Impressum und gesetzliche Anbieterkennzeichnung für Terminmarktplatz gemäß § 5 TMG / § 18 Abs. 2 MStV." />
  <meta name="theme-color" content="#6f53ff" />

  <meta property="og:type" content="website" />
  <meta property="og:title" content="Impressum | Terminmarktplatz" />
  <meta property="og:description" content="Gesetzliche Anbieterkennzeichnung und Pflichtangaben." />
  <meta property="og:site_name" content="Terminmarktplatz" />
  <meta property="og:image" content="{{ url_for('static', filename='og-cover.png') }}" />
  <meta name="twitter:card" content="summary_large_image" />

  <base href="/" />

  <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <style>
    .fill{background:#fff3; border-bottom:2px dotted #cbd5e1}
    .small{font-size:13px; color:var(--ab-text-dim)}
    .impressum h3{margin:16px 0 6px}
    .impressum p{margin:6px 0}
    .callout{border-left:4px solid var(--ab-primary); padding:12px 14px; background:#fff; border:1px solid var(--ab-border); border-radius:12px}

    /* Menü-Button im User-Menü: weiß (wie AGB/Datenschutz) */
    .user-menu .btn {
      background:#ffffff;
      color:#0f172a;
      border:1px solid #cbd5e1;
      text-shadow:none;
      background-image:none;
    }

    /* Standard: Burger-Menü ausblenden */
    .user-menu {
      display:none;
    }

    /* Desktop: Nav sichtbar, Burger-Menü weg */
    @media (min-width: 769px){
      .user-menu {
        display:none;
      }
      .nav-links {
        display:flex;
        gap:12px;
        margin-left:auto;
      }
    }

    /* Mobile: Nav-Links sichtbar + Burger-Menü wie auf den anderen Seiten */
    @media (max-width: 768px) {
      .container.nav {
        flex-wrap: wrap;
        gap: 8px;
        align-items: flex-start;
        padding-inline: 16px;
      }

      header .brand{
        margin-bottom:4px;
      }

      .brand-title {
        font-size: 1.05rem;
      }

      /* Hauptnavigation – auch mobil sichtbar */
      .nav-links {
        display:flex !important;
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
        gap: 8px;
        text-align: center;
        margin-top:4px;
      }

      .nav-links a {
        font-size: 0.9rem;
        padding: 2px 6px;
      }

      /* falls irgendwo CTA-Buttons im Header wären */
      .cta-group {
        width: 100%;
        justify-content: flex-end;
        gap: 8px;
      }

      .cta-group .btn {
        padding-inline: 10px;
      }

      /* Burger-Menü nur mobil anzeigen */
      .user-menu {
        display: block;
        margin-left: auto;
      }

      /* Hero kompakter */
      .hero {
        padding: 28px 0 14px !important;
      }

      .hero h1 {
        font-size: 1.6rem;
        line-height: 1.25;
      }

      .hero .lead {
        font-size: 0.95rem;
      }

      /* Card / Inhalt */
      .card.impressum {
        padding: 18px !important;
      }

      /* Footer-Spalten untereinander */
      .foot-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .foot-col {
        margin-top: 4px;
      }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <div class="container nav" role="navigation" aria-label="Hauptnavigation">
      <a class="brand" href="index.html" aria-label="Startseite">
        <div class="brand-logo" aria-hidden="true">
          <img src="/static/terminmarktplatz-logo.png" alt="Terminmarktplatz Logo" width="50" height="50">
        </div>
        <div class="brand-title">Terminmarktplatz</div>
      </a>

      <!-- Mobile User-Dropdown -->
      <div class="user-menu">
        <button id="userMenuBtn" class="btn" aria-haspopup="menu" aria-expanded="false">
          ☰ Menü
        </button>
        <div id="userMenu" class="menu" role="menu" hidden>
          <!-- Nur sichtbar, wenn NICHT eingeloggt -->
          <a href="login.html?tab=login" class="item auth-out" role="menuitem">Anmelden</a>

          <!-- Nur sichtbar, wenn eingeloggt -->
          <button type="button" class="item auth-in" data-action="logout" role="menuitem">Abmelden</button>
          <a href="anbieter-portal.html" class="item auth-in" role="menuitem">Profil</a>
          <a href="anbieter-portal.html#step-3" class="item auth-in" role="menuitem">Slot anlegen</a>
          <button class="item danger auth-in" data-action="delete" role="menuitem">Konto löschen</button>

          <!-- Immer sichtbar -->
          <a href="kontakt.html" class="item" role="menuitem">Kontakt</a>
        </div>
      </div>

      <nav class="nav-links">
        <a href="anbieter.html">Für Anbieter</a>
        <a href="suchende.html">Für Suchende</a>
        <a href="preise.html">Preise</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero" style="padding:40px 0 16px">
      <div class="container">
        <span class="badge">Pflichtangaben</span>
        <h1>Impressum</h1>
        <p class="lead">Gesetzliche Anbieterkennzeichnung gemäß § 5 TMG und Informationen nach § 18 Abs. 2 MStV.</p>
      </div>
    </section>

    <section>
      <div class="container">
        <div class="card impressum" style="padding:22px">
          <h2>1. Angaben gemäß § 5 TMG</h2>
          <p>
            <strong>AlltagsBuddy / Annett Hofmann</strong><br>
            Steigerwaldstraße 35<br>
            96191 Viereth-Trunstadt, Deutschland
          </p>
          <p>
            Telefon: <span class="fill">folgt</span><br>
            E-Mail: <a href="mailto:info@terminmarktplatz.de">info@terminmarktplatz.de</a><br>
            Website: <span class="fill">https://terminmarktplatz.de</span>
          </p>

          <h3>Verantwortlich i. S. d. § 18 Abs. 2 MStV</h3>
          <p>
            <span class="fill">Annett Hofmann, Steigerwaldstraße 35, 96191 Viereth-Trunstadt</span>
          </p>

          <hr style="border:none; border-top:1px solid var(--ab-border); margin:18px 0">

          <h2>2. EU-Streitschlichtung</h2>
          <p>
            Die Europäische Kommission stellt eine Plattform zur Online-Streitbeilegung (OS) bereit:
            <a href="https://ec.europa.eu/consumers/odr/" rel="nofollow noopener" target="_blank">https://ec.europa.eu/consumers/odr/</a>.
          </p>

          <h2>3. Verbraucherstreitbeilegung nach VSBG</h2>
          <p class="callout">
            <span class="small">Wir sind nicht verpflichtet und nicht bereit, an Streitbeilegungsverfahren vor einer Verbraucherschlichtungsstelle teilzunehmen.</span>
          </p>

          <h2>4. Haftung für Inhalte</h2>
          <p>
            Als Diensteanbieter sind wir gemäß § 7 Abs. 1 TMG für eigene Inhalte auf diesen Seiten nach den allgemeinen
            Gesetzen verantwortlich. Nach §§ 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet,
            übermittelte oder gespeicherte fremde Informationen zu überwachen oder nach Umständen zu forschen,
            die auf eine rechtswidrige Tätigkeit hinweisen. Verpflichtungen zur Entfernung oder Sperrung der Nutzung
            von Informationen nach den allgemeinen Gesetzen bleiben hiervon unberührt. Eine diesbezügliche Haftung ist
            jedoch erst ab dem Zeitpunkt der Kenntnis einer konkreten Rechtsverletzung möglich. Bei Bekanntwerden von
            entsprechenden Rechtsverletzungen werden wir diese Inhalte umgehend entfernen.
          </p>

          <h2>5. Haftung für Links</h2>
          <p>
            Unser Angebot enthält Links zu externen Websites Dritter, auf deren Inhalte wir keinen Einfluss haben.
            Deshalb können wir für diese fremden Inhalte auch keine Gewähr übernehmen. Für die Inhalte der verlinkten
            Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten
            wurden zum Zeitpunkt der Verlinkung auf mögliche Rechtsverstöße überprüft. Rechtswidrige Inhalte waren
            zum Zeitpunkt der Verlinkung nicht erkennbar. Eine permanente inhaltliche Kontrolle der verlinkten
            Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. Bei Bekanntwerden
            von Rechtsverletzungen werden wir derartige Links umgehend entfernen.
          </p>

          <h2>6. Urheberrecht</h2>
          <p>
            Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen
            Urheberrecht. Die Vervielfältigung, Bearbeitung, Verbreitung und jede Art der Verwertung außerhalb der
            Grenzen des Urheberrechtes bedürfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers.
            Downloads und Kopien dieser Seite sind nur für den privaten, nicht kommerziellen Gebrauch gestattet,
            soweit nicht ausdrücklich anders gekennzeichnet. Soweit die Inhalte auf dieser Seite nicht vom Betreiber
            erstellt wurden, werden die Urheberrechte Dritter beachtet und entsprechende Inhalte gekennzeichnet.
            Solltest du trotzdem auf eine Urheberrechtsverletzung aufmerksam werden, bitten wir um einen Hinweis.
            Bei Bekanntwerden von Rechtsverletzungen entfernen wir derartige Inhalte umgehend.
          </p>

          <h2>7. Bild-, Icon- & Schrift-Nachweise</h2>
          <p>
            <span class="fill">Quelle/n für Bilder/Illustrationen/Icons/Fonts – z. B. eigenes Material, Lizenz, Stock-Plattform, Autoren</span>
          </p>

          <h2>8. Social-Media-Profile</h2>
          <p>
            <span class="fill">Links zu offiziellen Profilen – z. B. Instagram, Facebook, LinkedIn, X, YouTube</span><br>
            Es gelten die Nutzungs- und Datenschutzbestimmungen der jeweiligen Plattformbetreiber.
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container foot-grid">
      <div>
        <div class="brand" style="margin-bottom:10px">
          <div class="brand-logo" aria-hidden="true">
            <img src="/static/terminmarktplatz-logo.png" alt="Terminmarktplatz Logo klein">
          </div>
          <div class="brand-title">Terminmarktplatz</div>
        </div>
        <p class="muted">Ein AlltagsBuddy-Projekt: smarte Lösungen für deinen Alltag.</p>
      </div>
      <div class="foot-col">
        <h4>Produkt</h4>
        <a class="foot-link" href="anbieter.html">Für Anbieter</a>
        <a class="foot-link" href="suchende.html">Für Suchende</a>
      </div>
      <div class="foot-col">
        <h4>Rechtliches</h4>
        <a class="foot-link" href="impressum.html">Impressum</a>
        <a class="foot-link" href="datenschutz.html">Datenschutz</a>
        <a class="foot-link" href="agb.html">AGB</a>
        <a class="foot-link" href="widerruf.html">Widerruf</a>
      </div>
      <div class="foot-col">
        <h4>Kontakt</h4>
        <a class="foot-link" href="kontakt.html">Kontaktformular</a>
        <a class="foot-link" href="mailto:info@terminmarktplatz.de">info@terminmarktplatz.de</a>
      </div>
    </div>
    <div class="container copyright">© <span id="y"></span> Terminmarktplatz · Alle Rechte vorbehalten.</div>
  </footer>

  <script>
    // Jahreszahl im Footer
    const yEl = document.getElementById('y');
    if (yEl) yEl.textContent = new Date().getFullYear();
  </script>

  <!-- User-Menü Logik (mobil) inkl. Auth-Status -->
  <script>
    (function(){
      const API = (typeof window.API === 'string')
        ? window.API
        : ((h)=> (h==='localhost'||h==='127.0.0.1') ? 'http://127.0.0.1:5000' : 'https://api.terminmarktplatz.de')(location.hostname);

      const btn  = document.getElementById('userMenuBtn');
      const menu = document.getElementById('userMenu');
      if(!btn || !menu) return;

      const authOutEls = menu.querySelectorAll('.auth-out');
      const authInEls  = menu.querySelectorAll('.auth-in');

      function setAuthVisible(isLoggedIn){
        authOutEls.forEach(el => {
          el.style.display = isLoggedIn ? 'none' : '';
        });
        authInEls.forEach(el => {
          el.style.display = isLoggedIn ? '' : 'none';
        });
      }

      async function checkAuth(){
        try{
          const res = await fetch(`${API}/me`, { credentials:'include' });
          setAuthVisible(res.ok);
        }catch(e){
          setAuthVisible(false);
        }
      }

      function openMenu(open){
        menu.hidden = !open;
        btn.setAttribute('aria-expanded', String(open));
      }

      btn.addEventListener('click', (e)=>{
        e.stopPropagation();
        openMenu(menu.hidden);
      });

      document.addEventListener('click', ()=> openMenu(false));
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') openMenu(false); });

      menu.addEventListener('click', async (e)=>{
        const el = e.target.closest('.item');
        if(!el) return;
        const action = el.dataset.action;

        if(action === 'logout'){
          try{
            await fetch(`${API}/auth/logout`, { method:'POST', credentials:'include' });
          }catch(_){}
          location.href = '/login.html';
        }

        if(action === 'delete'){
          const ok = confirm('Wirklich den gesamten Account mit allen Slots und Buchungen löschen? Dieser Schritt ist endgültig.');
          if(!ok) return;
          try{
            const res = await fetch(`${API}/me`, { method:'DELETE', credentials:'include' });
            if(res.ok){
              location.href = '/login.html?deleted=1';
            }else{
              const data = await res.json().catch(()=>({}));
              alert(data?.error ? `Löschen fehlgeschlagen: ${data.error}` : 'Löschen fehlgeschlagen.');
            }
          }catch(err){
            alert('Netzwerkfehler – bitte später erneut versuchen.');
          }
        }
      });

      // beim Laden Auth-Status prüfen
      checkAuth();
    })();
  </script>
</body>
</html>
